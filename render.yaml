services:
  - type: web
    name: bist-backend
    env: python
    buildCommand: pip install -r requirements.txt
    startCommand: gunicorn backend:app --timeout 120 --workers 1 --threads 4
    envVars:
      - key: PYTHON_VERSION
        value: 3.11.0
      - key: DATA_DIR
        value: /data
    # NOT: Render'da disk kullanımı FREE plan'da desteklenmiyor.
    # Disk (Persistent Storage) için en az Starter plan gerekli → $7/ay'dan başlıyor.
    # Free plan'da bu blok hata verir; free kalacaksa disk bloğunu kaldır,
    # backend otomatik olarak BASE_DIR'a (proje klasörü) fallback yapar.
    disk:
      name: bist-data
      mountPath: /data
      sizeGB: 1